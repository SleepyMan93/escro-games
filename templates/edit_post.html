{% extends "base.html" %}
{% block content %}

<div class="container">
    <div class="row">
        <div class="col s12 m11">
            <h4 class="align-left">Edit Post</h4>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m12">
            <form class="col s12 publish-form" method="POST" action="{{ url_for('edit_post', game_id=game._id) }}">
                <!-- game title -->
                <div class="row">
                    <div class="input-field col s12">
                        <input placeholder="Title" id="edit_title" name="game_title" value="{{ game.game_title }}"
                            type="text" class="publish-control"
                            required>
                        <label for="game_title"></label>
                    </div>
                </div>
                <!-- choose genre -->
                <div class="row">
                    <div class="input-field col s5">
                        <select id="genre_type" name="genre_type" class="publish-control" required>
                            <option value="" disabled>Choose Genre</option>
                            {% for genre in genres %}
                            {% if genre.genre_type == game.genre_type %}
                            <option value="{{ genre.genre_type }}" selected>{{ genre.genre_type }}</option>
                            {% else %}
                            <option value="{{ genre.genre_type }}">{{ genre.genre_type }}</option>
                            {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <!-- game description -->
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="edit_description" name="game_description" minlength="5" maxlength="300"
                            class="textarea-materialize publish-control" required>
                            {{- game.game_description -}}
                        </textarea>
                        <label class="game-label" for="game_description">Description</label>
                    </div>
                </div>
                <!-- game details -->
                <div class="row">
                    <div class="input-field col s3">
                        <input placeholder="Price" id="edit_price" name="price" value="{{ game.price }}" type="text"
                            class="game-credentials publish-control" required>
                        <label for="price"></label>
                    </div>
                    <div class="input-field col s3">
                        <input placeholder="Dev Team" id="edit_dev_team" name="dev_team" value="{{ game.dev_team }}"
                            type="text" class="game-credentials publish-control" required>
                        <label for="dev_team"></label>
                    </div>
                    <div class="input-field col s3">
                        <input placeholder="Image Link" id="edit_image_link" name="image_link" type="text" 
                            value="{{ game.image_link }}" class="game-credentials publish-control" required>
                        <label for="image_link"></label>
                    </div>
                    <div class="input-field col s3">
                        <input placeholder="Release Date" id="edit_release_date" name="release_date" type="text"
                            value="{{ game.release_date }}" class="game-credentials datepicker" required>
                        <label for="release_date"></label>
                    </div>
                </div>
                <!-- post button -->
                <div class="row">
                    <div class="s2 right-align">
                        <!-- cancel all changes -->
                        <button id="cancel" class="btn waves-effect waves-light"><a href="{{ url_for('profile', username=session['user']) }}">Cancel</a></button>
                        </a>
                        <button class="btn waves-effect waves-light" type="submit" name="action">
                            Post
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}